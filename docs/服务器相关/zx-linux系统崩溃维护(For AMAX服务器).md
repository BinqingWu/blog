# linux系统崩溃维护 (For AMAX服务器)

这个其实也非常值得记录，核心就是进入recovery的单用户模式，话说我比较想知道，为什么正常模式崩溃了，单用户模式也还能进入？

如何进入单用户模式？

### 步骤：

1.进入grub界面选择recovey mode，然后按e（注意不要按enter）

2.之后就会出现很多行代码，我们修改其中一行

ro recovery nomodeset 改为 rw single init=/bin/bash

3.按ctrl+X退出，系统会自动进入单用户模式

这次进入单用户模式其实主要就是检查了磁盘的情况，因为一开始以为文件都丢失了，后来才发现原来是有些硬盘没有挂载上去。

### VGA和HDMI的问题

现在思路比较清晰了，机箱后面那两个HDMI插口应该分别是集显和独显的接口，而VGA接口是集显的接口。当时的选项应该是VGA Priority=offboard，这时候只有独显的HDMI接口是有效的，但是不知道为什么独显的那个接口也有问题，所以那时候显示不出画面。然后师兄不知道怎么做的（断电？）独显的HDMI又有效了，之后我把VGA Priority=onboard，再插上VGA口，就可以正常显示了，那么为什么独显的HDMI有效了之后要换成集显的VGA呢？可能当时考虑要把独显的驱动在单用户模式下卸载，所以如果要继续显示的话，就需要换成集显？

不过只是VGA优先级的话，为什么就无法显示啊，所以这个服务器确实问题很严重。